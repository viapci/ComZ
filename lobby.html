<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ComZ Team Lobby</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bg-slideshow">
    <img class="bg-slideshow-image show" src="https://i.imgur.com/8CjLvY9.jpg" alt="" />
    <img class="bg-slideshow-image" src="https://i.imgur.com/gcgSGAI.jpg" alt="" />
  </div>
  <div class="container">
    <h1>ComZ Team Lobby</h1>
    <p id="welcome"></p>

    <div id="teamControls">
      <h2>Create a Team</h2>

      <label for="mapName">Map:</label>
      <select id="mapName">
        <option value="Livonia">Livonia</option>
        <option value="Chernarus">Chernarus</option>
        <option value="Sahrani">Sahrani</option>
      </select>

      <label for="serverId">Server ID:</label>
      <input type="text" id="serverId" placeholder="e.g. 1209" />

      <label>Max Team Size:</label>
      <input type="number" id="teamSize" min="2" max="5" value="2" />

      <label for="teamPasscode">Passcode (optional):</label>
      <input type="text" id="teamPasscode" placeholder="Team passcode (optional)" />

      <button id="createTeam">Create</button>

      <h2>Join a Team</h2>
      <ul id="availableTeams"></ul>
    </div>

    <div id="teamLobby" style="display:none;">
      <h2>Team Room</h2>
      <p id="teamInfo"></p>
      <ul id="teamMembers"></ul>

      <h3>Team Chat</h3>
      <ul id="chatMessages"></ul>
      <input type="text" id="chatInput" placeholder="Type message..." autocomplete="off" />
      <button id="sendChat">Send</button>
      <br>
      <button id="leaveTeam" style="margin-top:1em;background:#b54d4d;color:#fff;">Back to Lobby</button>
    </div>
  </div>

  <script type="module" src="lobby.js"></script>
  <script>
    // Background Slideshow Script
    const bgImages = [
      "https://i.imgur.com/8CjLvY9.jpg", // night-atmosphere-dayz-1gl6PkW
      "https://i.imgur.com/gcgSGAI.jpg", // wallpaper-dayz-2WSlcXC
      "https://i.imgur.com/xlqNZKz.jpg", // dayz-atmosphere-HTPNxrl
      "https://i.imgur.com/WhqV3hj.jpg"  // night-forest-bgcXVto
    ];
    let current = 0;
    let next = 1;

    const slideshow = document.querySelector('.bg-slideshow');
    const imgs = slideshow.querySelectorAll('.bg-slideshow-image');

    imgs[0].src = bgImages[0];
    imgs[1].src = bgImages[1];

    function crossfade() {
      imgs[0].classList.toggle('show');
      imgs[1].classList.toggle('show');
      setTimeout(() => {
        current = (current + 1) % bgImages.length;
        next = (current + 1) % bgImages.length;
        const hidden = !imgs[0].classList.contains('show') ? imgs[0] : imgs[1];
        hidden.src = bgImages[next];
      }, 1700);
    }

    setInterval(crossfade, 7000);
  </script>
</body>
</html>
